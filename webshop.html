<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="burgermenu.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,700&display=swap" rel="style.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Copenhagen Glass</title>
</head>

<body>
    <header>
        <nav>
            <div id="menu-desktop" class="menu-desktop-cntainer">
                <div class="menu-wrapper">
                    <div class="desktop-logo"><img src="img/logo_copy_2.svg"></div>

                    <ul class="header-menu-container">
                        <a href="index.html">
                            <li>Forside</li>
                        </a>
                        <a href="galleri.html">
                            <li>Galleri</li>
                        </a>
                        <a href="events.html">
                            <li>Events</li>
                        </a>

                        <a href="kontakt.html">
                            <li>Kontakt</li>
                        </a>
                        <a href="webshop.html">
                            <li>Webshop</li>
                        </a>
                    </ul>
                </div>
            </div>
            <div id="menu-mobile">
                <a href="index.html">
                    <div class="mobil-logo"><img src="img/logo.png"></div>
                </a>
                <p>Copenhagen Glass</p>
                <div class="menu__toggler"><span></span></div>
                <div class="mobile-menu-dropdown">
                    <ul class="atags-mobile-menu">
                        <a href="index.html">
                            <li>Forside</li>
                        </a>
                        <a href="galleri.html">
                            <li>Galleri</li>
                        </a>
                        <a href="events.html">
                            <li>Events</li>
                        </a>

                        <a href="kontakt.html">
                            <li>Kontakt</li>
                        </a>
                        <a href="webshop.html">
                            <li>Webshop</li>
                        </a>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main id="main" class="baggrund1">
        <section id="webshop">
            <div class="container-max">
                <h1>Webshop</h1>
                <div id="webshop-grid">
                </div>
            </div>
            <template class="webshop-template">
                <div class="item-container">
                    <div class="singleProdukt">
                        <img src="" alt="">

                        <div class="price-container">
                            <h3 class="title"></h3>
                            <button class="button">
                                <h3>Se Produkt</h3>
                            </button>
                        </div>
                    </div>
                </div>
            </template>

            <div class="popUp-container">
                <div class="container-max">
                    <div class="produkt-container">
                        <div class="top-container">
                            <div class="luk"><img src="img/backwardarrow.png" alt="tilbageknap"></div>
                            <div class="shoppingcartsvg"><img src="img/kurv.png" alt="kurv"></div>
                        </div>

                        <div class="produkt-container">

                            <div class="produkt-billede">
                                <img src="" alt="billede-af-produkt">

                            </div>

                            <div class="tekst-container">

                                <h1></h1>
                                <p></p>
                                <div class="specifikationer">
                                    <div class="flex">
                                        <h6>Vægt:</h6>
                                        <p></p>
                                    </div>
                                    <div>
                                        <h6>Størrelse: </h6>
                                        <p></p>
                                    </div>

                                </div>

                                <div class="farver">
                                    <h6>Farver</h6>


                                </div>
                                <div class="buy-container">

                                    <h2></h2>

                                    <button class="buy-button">
                                        <p>Læg i kurv</p>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


        </section>
    </main>
    <footer id="footer">
        <div class="container">
            <div class="butik-container">
                <h4>Butik</h4>
                <h5>København</h5>
                <p>Toldbodgade 4
                </p>
                <p>1253 København K</p>
                <div class="tlf">
                    <p>Telefon: 40 17 01 34</p>
                </div>
                <p>CVR: 38766309</p>
            </div>
            <div class="kontakt">
                <h4>Booking</h4>
                <p>Vdr. Events, kontakt butikken</p>
                <button>Kontakt Butik</button>
                <a href="#">
                    <h6>Køb et gavekort</h6>
                </a>
            </div>
            <div class="aabningstid">
                <h4>Åbningstider</h4>
                <div class="aabningstiden">
                    <h3>Mandag</h3>
                    <p class="mandag"></p>
                    <h3>Tirsdag</h3>
                    <p class="tirsdag"></p>
                    <h3>Onsdag</h3>
                    <p class="onsdag"></p>
                    <h3>Torsdag</h3>
                    <p class="torsdag"></p>
                    <h3>Fredag</h3>
                    <p class="fredag"></p>
                    <h3>Lørdag</h3>
                    <p class="loerdag"></p>
                    <h3>Søndag</h3>
                    <p class="soendag"></p>
                </div>
            </div>
        </div>
        <a href="kontakt.html"> <button class="mobile-footer">
                <p>Kontakt Butik</p>
            </button></a>
        <div class="social-icons">
            <i class="fa fa-facebook-square" style="font-size:24px"></i>
            <i class="fa fa-instagram" style="font-size:24px"></i>
            <i class="fa fa-envelope" style="font-size:24px" aria-hidden="true"></i>
        </div>
        <p>Copyright: Copenhagen Glass 2019</p>
    </footer>









    <script src="script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", getJson);
        let webshopItems;

        async function getJson() {
            let jsonData = await fetch("https://mostvalue.dk/Copenhagenglass/wordpress/wp-json/wp/v2/Webshop_item");

            webshopItems = await jsonData.json();
            console.log(webshopItems);
            visWebshop();

        };

        function visWebshop() {

            document.querySelector(".luk").addEventListener('click', noDisplaySingle);
            const skabelon = document.querySelector(".webshop-template");
            const liste = document.querySelector("#webshop-grid");

            webshopItems.forEach((item, index) => {
                const klon = skabelon.cloneNode(true).content;

                klon.querySelector("img").src = item.billede.guid;
                klon.querySelector("img").alt = "slider image";
                klon.querySelector(".title").innerHTML = item.title.rendered;
                console.log(index);

                klon.querySelector(".singleProdukt").addEventListener('click', function() {
                    /*                    showBike(webshopItems[index]);*/
                    visSingleProdukt(webshopItems[index]);


                    console.log(index);


                    document.querySelector(".popUp-container").style.display = "block";
                    document.querySelector("body").classList.add("noscroll");

                    document.querySelector(".produkt-billede img").src = item.billede.guid;
                    document.querySelector(".tekst-container h1").textContent = item.title.rendered;
                    document.querySelector(".tekst-container p").textContent = item.beskrivelse;
                    document.querySelector(".specifikationer h6").textContent = item.vaegt;
                    document.querySelector(".specifikationer p").textContent = item.stoerrelse;
                    document.querySelector(".buy-container h2").textContent = "Pris: " + item.pris + " DKK";





                })

                liste.appendChild(klon);
            });


        };




        function visSingleProdukt(data) {

            console.log(data);

            const skabelonSingle = document.querySelector(".popUp-container");
            const listeSingle = document.querySelector("#popUp-container");


            const klon = skabelonSingle.cloneNode(true).content;
            console.log(klon);
            /*    klon.querySelector(".price").textContent = data.pris + " ,-";
                klon.querySelector(".frameSize").innerHTML = data.framesize;
                klon.querySelector(".weight").innerHTML = data.weight;

                klon.querySelector(".colorCombinations").innerHTML = data.colorcombination;
            klon.querySelector(".produkt-billede img").src = data.billede.guid; */





        }
        /*
                function events() {
                    document.querySelector(".luk").addEventListener('click', noDisplaySingle);
                    document.querySelector(".singleProdukt").addEventListener('click', displaySingle);
                }
*/
        function noDisplaySingle() {
            document.querySelector(".popUp-container").style.display = "none";
            document.querySelector("body").classList.remove("noscroll");
        }
        /*
                        function displaySingle() {
                            document.querySelector(".popUp-container").style.display = "block";
                        }

                        function openSingle() {
                            console.log("hej");

                        }*/
    </script>
</body></html>
