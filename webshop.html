<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="burgermenu.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Document</title>
</head>

<body>
    <header>

        <nav>
            <div id="menu-desktop" class="menu-desktop-cntainer">
                <div class="menu-wrapper">
                    <div class="desktop-logo"></div>
                    <ul class="header-menu-container">
                        <a href="index.html">
                            <li>Forside</li>
                        </a>
                        <a href="galleri.html">
                            <li>Galleri</li>
                        </a>
                        <a href="events.html">
                            <li>Events</li>
                        </a>

                        <a href="kontakt.html">
                            <li>Kontakt</li>
                        </a>
                        <a href="webshop.html">
                            <li>Webshop</li>
                        </a>
                    </ul>
                </div>
                <div class="desktop-logo"></div>
            </div>
            <div id="menu-mobile">
                <div class="menu__toggler"><span></span></div>
                <div class="mobile-menu-dropdown">
                    <ul class="atags-mobile-menu">
                        <li><a href="#">Home</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Gallery</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
            </div>

        </nav>

    </header>

    <main id="main">
        <section id="webshop">
            <div class="container-max">
                <div id="webshop-grid">
                </div>

            </div>

        </section>


    </main>

    <template class="test-template">
        <div class="item-container">
            <img src="" alt="">

            <div class="price-container">
                <div class="title"></div>
                <button class="button button4">l√¶g i kurv</button>
            </div>
        </div>
    </template>

    <script src="script.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", getJson);


        let webshopItems;

        async function getJson() {
            const skabelon = document.querySelector(".test-template");
            const liste = document.querySelector("#webshop-grid");


            let jsonData = await fetch("https://mostvalue.dk/Copenhagenglass/wordpress/wp-json/wp/v2/Webshop_item");

            webshopItems = await jsonData.json();
            console.log(webshopItems);

            vis();
            /*
                        document.querySelector(".test").innerHTML = webshopItems[0].title.rendered;*/

        };

        function vis() {
            const skabelon = document.querySelector(".test-template");
            const liste = document.querySelector("#webshop-grid");

            webshopItems.forEach(item => {
                const klon = skabelon.cloneNode(true).content;
                klon.querySelector("img").src = item.billede.guid;
                klon.querySelector("img").alt = "slider image";
                klon.querySelector(".title").innerHTML = item.title.rendered;
                liste.appendChild(klon);
            });
        };

    </script>
</body>

</html>
